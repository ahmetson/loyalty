# A Loyalty program.

Network: Sepolia Testnet

Todo:

Deploy the smartcontract.
Verify smartcontract.
Add Credentials to the smartcontract.
Add Shop to the smartcontract.
Add the smartcontract to the chainlink functions.

# Version 0

Address: [0xb5b9ae9e80bddaa7477eb06785295123a8bdb2cd view on Etherscan](https://sepolia.etherscan.io/address/0xb5b9ae9e80bddaa7477eb06785295123a8bdb2cd#code)
ABI: [Loyalty.json](./abi/contracts/Loyalty.sol/Loyalty.json)

To submit from the wallet the parameters call
`function submitPersonalData(address shop, bytes32 receiptId, string calldata userData)`;

Shop is any random address.
Receipt is any random 32 bytes.
And `userData` is the data in JSON representation of the zero knowledge proof.

# Version 1

Hex library [0x315329244Ca9e2F9E5faB7181f4331f776bf369D](https://sepolia.etherscan.io/address/0x315329244Ca9e2F9E5faB7181f4331f776bf369D);
Address: [0x45E81C2cC9DbC085BB9624508AcD0E2104018928](https://sepolia.etherscan.io/address/0x45E81C2cC9DbC085BB9624508AcD0E2104018928)
ABI: [Loyalty.json](./abi/contracts/Loyalty.sol/Loyalty.json)


To submit from the wallet the parameters call
`function submitPersonalData(address shop, bytes32 receiptId, string calldata userData)`;

Shop is any random address.
Receipt is any random 32 bytes.
And `userData` is the data in JSON representation of the zero knowledge proof.

# Version 2

Hex library [0x315329244Ca9e2F9E5faB7181f4331f776bf369D](https://sepolia.etherscan.io/address/0x315329244Ca9e2F9E5faB7181f4331f776bf369D);
Library wasn't upgraded. So it's the same as in the version 1.

Address: [0xE878FcDF55D4FdC42D97dceb6895ab7B699E36fc](https://sepolia.etherscan.io/address/0x45E81C2cC9DbC085BB9624508AcD0E2104018928)
ABI: [Loyalty.json](./abi/contracts/Loyalty.sol/Loyalty.json)


To submit from the wallet the parameters call
`function submitPersonalData(address shop, bytes32 receiptId, string calldata userData)`;

Shop is any random address.
Receipt is any random 32 bytes.
And `userData` is the data in JSON representation of the zero knowledge proof.

# Version 3
Contract [0xC29f0A02d751374b0a92cEBecEb58800EB9a99eC](https://sepolia.etherscan.io/address/0xC29f0A02d751374b0a92cEBecEb58800EB9a99eC/)
ABI: [Loyalty.json](./abi/contracts/Loyalty.sol/Loyalty.json)
